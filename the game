"""
projekt_bulls_and_cows.py
author: student
"""

import random

# Úvodní text
print("Hi there!")
print("-" * 40)
print("I've generated a random 4 digit number for you.")
print("Let's play a bulls and cows game.")
print("-" * 40)

# Vygenerování tajného čísla
digits = list("123456789")
first = random.choice(digits)
digits.remove(first)
digits.append("0")

secret = first + "".join(random.sample(digits, 3))

guesses = 0

# Funkce pro kontrolu vstupu
def is_valid(guess):
    if not guess.isdigit():
        print("Input must be numeric.")
        return False
    if len(guess) != 4:
        print("Number must have exactly 4 digits.")
        return False
    if guess[0] == "0":
        print("Number must not start with zero.")
        return False
    if len(set(guess)) != 4:
        print("Digits must be unique.")
        return False
    return True

# Herní smyčka
while True:
    guess = input("Enter a number: ")
    if not is_valid(guess):
        continue

    guesses += 1
    bulls = 0
    cows = 0

    for i in range(4):
        if guess[i] == secret[i]:
            bulls += 1
        elif guess[i] in secret:
            cows += 1

    if bulls == 4:
        print(f"Correct, you've guessed the right number")
        print(f"in {guesses} guesses!")
        break

    bull_text = "bull" if bulls == 1 else "bulls"
    cow_text = "cow" if cows == 1 else "cows"

    print(f"{bulls} {bull_text}, {cows} {cow_text}")
    print("-" * 40)
